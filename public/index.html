<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Config Studio - Configuration Management</title>
    <link rel="stylesheet" href="themes.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="settings-container">
        <div class="settings-header">
            <div class="header-brand">
                <h1>Config Studio</h1>
                <p class="header-tagline">The simplest way to manage configurations.</p>
            </div>
            <div class="header-actions">
                <button class="close-btn" id="closeBtn">×</button>
            </div>
        </div>
        
        <!-- Main Tabs: Settings and Registered Systems -->
        <div class="main-tabs-container" id="mainTabsContainer">
            <div class="main-tabs" id="mainTabs">
                <div class="main-tab" data-main-tab="system-settings">
                    <span class="main-tab-name">Settings</span>
                </div>
                <div class="main-tab" data-main-tab="systems">
                    <span class="main-tab-name">Registered Systems</span>
                </div>
            </div>
        </div>
        
        <!-- Sub-tabs for Systems (shown when Systems tab is active) -->
        <div class="system-tabs-container" id="systemTabsContainer" style="display: none;">
            <div class="system-tabs" id="systemTabs">
                <!-- System sub-tabs will be generated dynamically -->
            </div>
        </div>
        
        <div class="settings-content">
            <div class="sidebar">
                <div class="search-container">
                    <input type="text" class="search-input" id="searchInput" placeholder="Search settings...">
                </div>
                <nav class="nav-menu" id="navMenu">
                    <!-- Tabs will be generated dynamically -->
                </nav>
            </div>
            
            <div class="main-content">
                <div class="config-path-display" id="configPathDisplay">
                    <!-- Config file path will be displayed here -->
                </div>
                <div class="tab-content" id="tabContent">
                    <!-- Content will be generated dynamically -->
                </div>
                
                <div class="action-buttons" id="actionButtons" style="display: none;">
                    <!-- Auto-save indicator will be shown here -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Custom Theme Configuration Modal -->
    <div class="modal" id="customThemeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Custom Theme Configuration</h2>
                <button class="modal-close" id="customThemeModalCloseBtn">×</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Custom CSS File URL</label>
                    <input type="text" class="form-input" id="customCssUrlInput" placeholder="e.g., /themes/my-theme.css or https://example.com/theme.css">
                    <div class="form-helper">
                        Enter the URL or path to your custom CSS file. The file should be accessible from the browser.
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Required CSS Variables</label>
                    <div class="variables-docs">
                        <p class="form-helper" style="margin-bottom: 12px;">
                            Your custom CSS file must define all these variables under <code>[data-theme="custom"]</code>:
                        </p>
                        <div class="variables-list">
                            <details>
                                <summary class="variables-category">Background Colors</summary>
                                <ul class="variables-items">
                                    <li><code>--bg-primary</code> - Main page background</li>
                                    <li><code>--bg-secondary</code> - Container/card background</li>
                                    <li><code>--bg-tertiary</code> - Sidebar/secondary areas</li>
                                    <li><code>--bg-hover</code> - Hover state background</li>
                                    <li><code>--bg-active</code> - Active/selected state background</li>
                                    <li><code>--bg-input</code> - Input field background</li>
                                    <li><code>--bg-input-focus</code> - Input field background when focused</li>
                                    <li><code>--bg-modal</code> - Modal overlay background</li>
                                </ul>
                            </details>
                            <details>
                                <summary class="variables-category">Text Colors</summary>
                                <ul class="variables-items">
                                    <li><code>--text-primary</code> - Primary text color</li>
                                    <li><code>--text-secondary</code> - Secondary text color</li>
                                    <li><code>--text-tertiary</code> - Tertiary/muted text color</li>
                                    <li><code>--text-inverse</code> - Text on dark backgrounds</li>
                                </ul>
                            </details>
                            <details>
                                <summary class="variables-category">Border Colors</summary>
                                <ul class="variables-items">
                                    <li><code>--border-primary</code> - Primary border color</li>
                                    <li><code>--border-secondary</code> - Secondary border color</li>
                                    <li><code>--border-focus</code> - Focused input border color</li>
                                    <li><code>--border-error</code> - Error state border color</li>
                                </ul>
                            </details>
                            <details>
                                <summary class="variables-category">Accent Colors</summary>
                                <ul class="variables-items">
                                    <li><code>--accent-primary</code> - Primary accent color (buttons, links)</li>
                                    <li><code>--accent-primary-hover</code> - Primary accent hover state</li>
                                    <li><code>--accent-secondary</code> - Secondary accent color</li>
                                    <li><code>--accent-error</code> - Error accent color</li>
                                    <li><code>--accent-error-hover</code> - Error accent hover state</li>
                                </ul>
                            </details>
                            <details>
                                <summary class="variables-category">Shadows</summary>
                                <ul class="variables-items">
                                    <li><code>--shadow-sm</code> - Small shadow</li>
                                    <li><code>--shadow-md</code> - Medium shadow</li>
                                    <li><code>--shadow-focus</code> - Focus ring shadow</li>
                                    <li><code>--shadow-error</code> - Error focus ring</li>
                                </ul>
                            </details>
                            <details>
                                <summary class="variables-category">Other</summary>
                                <ul class="variables-items">
                                    <li><code>--highlight-bg</code> - Search highlight background</li>
                                </ul>
                            </details>
                        </div>
                        <div class="form-helper" style="margin-top: 16px;">
                            <strong>Example CSS:</strong>
                            <pre class="code-example">[data-theme="custom"] {
    --bg-primary: #1a1a1a;
    --bg-secondary: #2d2d2d;
    --text-primary: #ffffff;
    /* ... define all other variables ... */
}</pre>
                        </div>
                        <div class="form-helper" style="margin-top: 12px;">
                            <a href="theme-variables-reference.css" target="_blank" class="helper-link">View complete reference file →</a>
                            <br>
                            <a href="examples/custom-theme-example.css" target="_blank" class="helper-link" style="margin-top: 8px; display: inline-block;">View example custom theme →</a>
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button class="btn btn-cancel" id="cancelCustomThemeBtn">Cancel</button>
                    <button class="btn btn-save" id="saveCustomThemeBtn">Save & Apply</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- System Management Modal -->
    <div class="modal" id="systemModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Manage Systems</h2>
                <button class="modal-close" id="modalCloseBtn">×</button>
            </div>
            <div class="modal-body">
                <div class="system-form-container">
                    <div class="system-form" id="systemForm">
                        <h3 id="formTitle">Add System</h3>
                        <div class="form-group">
                            <label class="form-label">System Name</label>
                            <input type="text" class="form-input" id="systemNameInput" placeholder="e.g., Production Server">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Config File Path</label>
                            <input type="text" class="form-input" id="systemPathInput" placeholder="e.g., /path/to/config.env or config.env">
                            <div class="form-helper">Relative paths are resolved from the project root. Currently supports properties-based formats (.env, .properties). Future support planned for YAML, XML, and other formats.</div>
                        </div>
                        <div class="form-actions">
                            <button class="btn btn-save" id="saveSystemBtn">Save</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="app.js"></script>
</body>
</html>

